webpackJsonp([1],{"+Gxq":function(e,t,s){"use strict";var n=s("fnDg").a,o=s("VU/8")(n,null,!1,function(e){s("4veK")},null,null);t.a=o.exports},"+jOf":function(e,t){},"4veK":function(e,t){},"9M+g":function(e,t){},"HUt/":function(e,t,s){"use strict";var n=s("qRo1").a,o=s("VU/8")(n,null,!1,function(e){s("n9mN")},null,null);t.a=o.exports},IYLo:function(e,t){},JCpY:function(e,t,s){"use strict";var n=s("rKsW").a,o=s("VU/8")(n,null,!1,function(e){s("xBwK")},null,null);t.a=o.exports},JDVb:function(e,t,s){"use strict";var n=s("9NuQ").a,o=s("VU/8")(n,null,!1,function(e){s("Y9O/")},null,null);t.a=o.exports},Jmt5:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW");window.$=window.jQuery=s("7t+N"),s("Jmt5"),s("Rive"),s("9M+g"),s("dlx8"),s("e0XP"),s("IYLo");var o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Open+Sans",rel:"stylesheet"}}),this._v(" "),t("router-view")],1)},staticRenderFns:[]},r=s("VU/8")({name:"app"},o,!1,null,null,null).exports,i=s("/ocq"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("h1",[this._v(this._s(this.msg))])])},staticRenderFns:[]},c=s("VU/8")({name:"Main",data:function(){return{msg:"Welcome to Your Vue.js App"}}},a,!1,function(e){s("+jOf")},null,null).exports,l={vars:[],set:function(e,t){this.vars[e]=t},get:function(e){return void 0!==this.vars[e]?this.vars[e]:null}},u={name:"SignIn",data:function(){return{nav:!1,form:{},error:null}},methods:{login:function(e){var t=this;e?l.get("services.oauth").providerSignIn(e):l.get("services.oauth").signIn({params:this.form,success:function(e){window.location.href="/"},error:function(e){t.error=e.message}})}},mounted:function(){}},d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container full-height "},[s("div",{staticClass:"paper content container-signin"},[s("div",[s("h4",[e._v("Sign in")]),e._v(" "),s("p",[e._v("Lorem ipsum dolor sit amet, consectetur adipiscing.")]),e._v(" "),s("form",{staticClass:"form",attrs:{method:"POST"},on:{submit:function(t){t.preventDefault(),e.login()}}},[s("div",{staticClass:"form-group",class:{error:e.error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:" ",required:"",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}}),e._v(" "),s("span",{staticClass:"form-highlight"}),e._v(" "),s("label",[e._v("Email or Username")])]),e._v(" "),s("div",{staticClass:"form-group",class:{error:e.error}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:" ",required:""},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e._v(" "),s("span",{staticClass:"form-highlight"}),e._v(" "),s("label",[e._v("Password")])]),e._v(" "),s("div",{staticClass:"error"},[e._v(e._s(e.error)+"Â ")]),e._v(" "),s("br"),e._v(" "),s("button",{staticClass:"btn btn-block btn-primary"},[e._v("Accedi")])])]),e._v(" "),s("div",{staticClass:"box"},[s("div",{staticClass:"login-provider-title text-center"},[e._v(" Oppure accedi con ")]),e._v(" "),s("div",{staticClass:"container-login-provider fluid fluid-center"},[s("button",{staticClass:"btn btn-social-icon btn-social btn-gitlab",on:{click:function(t){e.login("gitlab")}}},[s("span",{staticClass:"fa fa-gitlab"})]),e._v(" "),s("button",{staticClass:"btn btn-social-icon btn-social btn-github",on:{click:function(t){e.login("github")}}},[s("span",{staticClass:"fa fa-github"})]),e._v(" "),s("button",{staticClass:"btn btn-social-icon btn-social btn-facebook",on:{click:function(t){e.login("facebook")}}},[s("span",{staticClass:"fa fa-facebook"})]),e._v(" "),s("button",{staticClass:"btn btn-social-icon btn-social btn-google",on:{click:function(t){e.login("google")}}},[s("span",{staticClass:"fa fa-google"})])])])])])},staticRenderFns:[]},h=s("VU/8")(u,d,!1,function(e){s("iz8C")},"data-v-2353755d",null).exports,f={mounted:function(){var e=l.get("request").query,t=this.$route.params.provider;console.log("a"),l.get("services.oauth").providerSignInCode(t,{params:e,success:function(e){window.location.href="/"},error:function(e){l.get("router").push({name:"login"})}})}};s("aKKr");var v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("main",[t("div",{staticClass:"container-loader"},[t("div",{staticClass:"sk-rotating-plane"})])])}]},p=s("VU/8")(f,v,!1,function(e){s("wMCu")},null,null).exports;n.default.use(i.a);var g=new i.a({mode:"history",routes:[{path:"/",name:"Main",component:c},{path:"/sign-in",name:"SignIn",component:h},{path:"/oauth/:provider/token",name:"SignInOauthToken",component:p}]}),m=s("Zrlr"),j=s.n(m),_=s("wxAW"),b=s.n(_),k=s("Zx67"),y=s.n(k),w=s("zwoO"),C=s.n(w),z=s("Pf15"),x=s.n(z),P=function(){function e(){j()(this,e)}return b()(e,[{key:"obj_to_query",value:function(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return"?"+t.join("&")}}]),e}(),U=function(e){function t(){j()(this,t);var e=C()(this,(t.__proto__||y()(t)).call(this));return e.url="https://github.com/login/oauth",e.client_id=l.get("env").oauth.github.client.id,e.client_secret=l.get("env").oauth.github.client.secret,e}return x()(t,e),b()(t,[{key:"getAuthorizeUrl",value:function(){return this.url+"/authorize"+this.obj_to_query({client_id:this.client_id,client_secret:this.client_secret,scope:"user:email"})}},{key:"getParamsAccessToken",value:function(e){return{url:"https://github.com/login/oauth/access_token",client_id:this.client_id,client_secret:this.client_secret,code:e.code}}}]),t}(P),O=function(e){function t(){j()(this,t);var e=C()(this,(t.__proto__||y()(t)).call(this));return e.url="https://gitlab.com/oauth",e.client_id=l.get("env").oauth.gitlab.client_id,e.client_secret=l.get("env").oauth.gitlab.client_secret,e.redirect_uri=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/oauth/gitlab/token",e}return x()(t,e),b()(t,[{key:"getAuthorizeUrl",value:function(){return this.url+"/authorize"+this.obj_to_query({client_id:this.client_id,response_type:"code",redirect_uri:this.redirect_uri,scope:"read_user"})}},{key:"getParamsAccessToken",value:function(e){return{client_id:this.client_id,client_secret:this.client_secret,redirect_uri:this.redirect_uri,code:e.code}}}]),t}(P),q=function(e){function t(){j()(this,t);var e=C()(this,(t.__proto__||y()(t)).call(this));return e.url="https://accounts.google.com/o/oauth2/v2",e.client_id=l.get("env").oauth.google.client_id,e.client_secret=l.get("env").oauth.google.client_secret,e.redirect_uri=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/oauth/google/token",e}return x()(t,e),b()(t,[{key:"getAuthorizeUrl",value:function(){return this.url+"/auth"+this.obj_to_query({client_id:this.client_id,scope:"https://www.googleapis.com/auth/userinfo.email",redirect_uri:this.redirect_uri,response_type:"token"})}},{key:"getParamsAccessToken",value:function(e){var t=null;try{t=(t=window.location.hash.split("&").map(function(e){return e.split("=")}))[0][1]}catch(e){}return{access_token:t,client_id:this.client_id,client_secret:this.client_secret,redirect_uri:this.redirect_uri}}}]),t}(P),E=function(e){function t(){j()(this,t);var e=C()(this,(t.__proto__||y()(t)).call(this));return e.url="https://www.facebook.com/v2.9",e.client_id=l.get("env").oauth.facebook.client_id,e.client_secret=l.get("env").oauth.facebook.client_secret,e.redirect_uri=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+"/oauth/facebook/token",e}return x()(t,e),b()(t,[{key:"getAuthorizeUrl",value:function(){return this.url+"/dialog/oauth"+this.obj_to_query({client_id:this.client_id,scope:"email",redirect_uri:this.redirect_uri})}},{key:"getParamsAccessToken",value:function(e){return{redirect_uri:this.redirect_uri,client_id:this.client_id,client_secret:this.client_secret,code:e.code}}}]),t}(P),R=function(){function e(){j()(this,e)}return b()(e,[{key:"providerSignIn",value:function(e,t){e=this.getProviderByName(e),window.location.href=e.getAuthorizeUrl()}},{key:"providerSignInCode",value:function(e,t){var s=this.getProviderByName(e).getParamsAccessToken(t.params),n=l.get("services.client"),o=function(s,o){s.access_token=o,n.basicCall("GET",l.get("env").api.url+"/oauth/"+e+"/exchange_token",{params:s,success:function(e){l.get("services.cookies").set(l.get("env").cookies.token,e.data.resource.access_token),t.success(e)},error:function(e){t.error(e)}})};s.access_token?o(s,s.access_token):function(s){n.basicCall("GET",l.get("env").api.url+"/oauth/"+e+"/access_token",{params:s,success:function(e){o(s,e.data.resource.access_token)},error:function(e){t.error(e)}})}(s)}},{key:"signIn",value:function(e){l.get("services.client").basicCall("POST",l.get("env").api.url+"/sign-in",{params:e.params,success:function(t){l.get("services.cookies").set(l.get("env").cookies.token,t.data.access_token),e.success(t)},error:function(t){e.error(t)}})}},{key:"getProviderByName",value:function(e){console.log(e);var t={github:new U,gitlab:new O,google:new q,facebook:new E};return void 0!==t[e]?t[e]:null}},{key:"loadUser",value:function(e){var t=l.get("services.cookies").get(l.get("env").cookies.token);this.access_token=t,console.log(this.access_token),t?l.get("services.client").basicCall("GET",l.get("env").api.url+"/me/profile",{params:{access_token:t},headers:{Authorization:"Bearer "+t},success:function(t){e.success(t)},error:function(t){e.error(t)}}):e.error()}},{key:"logout",value:function(){l.get("services.cookies").remove(l.get("env").cookies.token)}}]),e}(),F=s("lbHh"),N=function(){function e(){j()(this,e),this.stackCall=[]}return b()(e,[{key:"call",value:function(e,t,s,n){this.__call(e,t,s,n)}},{key:"obj_to_query",value:function(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return"?"+t.join("&")}},{key:"__call",value:function(e,t,s,n){var o=s.params,r=s.headers;"GET"==e&&(t+=this.obj_to_query(o));var i={type:e,url:t,data:o,contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){n(e)},error:function(e,s,r){e&&e.responseJSON?n(e.responseJSON):(console.log("Error during call: "+t),console.log(e),console.log(o),console.log(r),n())},xhrFields:{widthCredentials:!1},dataType:"json",headers:r};return $.ajax(i)}},{key:"fetchResponse",value:function(e,t){e?"success"!=e.status||void 0==t.success?"error"!=e.status||void 0==t.error?void 0==e.error||t.error(e):t.error(e):t.success(e):t.fatal?t.fatal():t.error()}},{key:"basicCall",value:function(e,t,s){var n=this,o=void 0!=s.params?s.params:{},r=void 0!=s.headers?s.headers:{};n.call(e,t,{headers:r,params:o},function(e){n.fetchResponse(e,s)})}}]),e}(),S=function(){function e(){j()(this,e)}return b()(e,[{key:"call",value:function(e,t,s,n){this.__call(e,t,s,n)}},{key:"obj_to_query",value:function(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return"?"+t.join("&")}},{key:"__call",value:function(e,t,s,n){var o=s.params,r=s.headers;"GET"==e&&(t+=this.obj_to_query(o));var i={type:e,url:t,data:o,contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){n(e)},error:function(e,s,r){e&&e.responseJSON?n(e.responseJSON):(console.log("Error during call: "+t),console.log(e),console.log(o),console.log(r),n())},xhrFields:{widthCredentials:!1},dataType:"json",headers:r};return $.ajax(i)}},{key:"fetchResponse",value:function(e,t){e?"success"!=e.status||void 0==t.success?"error"!=e.status||void 0==t.error?void 0==e.error||t.error(e):t.error(e):t.success(e):t.fatal?t.fatal():t.error()}},{key:"basicCall",value:function(e,t,s){var n=this,o=void 0!=s.params?s.params:{},r=void 0!=s.headers?s.headers:{};n.call(e,t,{headers:r,params:o},function(e){n.fetchResponse(e,s)})}}]),e}(),T=s("CLX7"),I=s.n(T),V=s("UnSZ"),A=s.n(V),B=s("e6fC");n.default.use(B.a),n.default.use(A.a),n.default.use(I.a),n.default.config.productionTip=!1,window.moment=s("PJh5"),window.Tether=s("6BCL");s("4RJ8");s("rwyn"),l.set("router",g);var J=s("OAwv");l.set("env",s("Snpf")),l.set("request",{route:window.location.pathname,query:J.parse(location.search)}),l.set("services.oauth",new R),l.set("services.cookies",F),l.set("services.client",new N),l.set("services.api",new S),l.set("date",s("PJh5")),l.get("date").locale("en",{week:{dow:1}}),new n.default({el:"#app",router:g,template:"<App/>",components:{App:r}})},Snpf:function(e,t){e.exports={api:{url:"https://manga-reader-be.dev.zero.coldray.net/api/v1"},dev:{host:"192.168.1.13"},oauth:{github:{client:{id:"6827980c37ece6c7a19d",secret:"a92acd05ff1681b4ef4359c5a392a65f447b4e60"}},gitlab:{client:{id:"6827980c37ece6c7a19d",secret:"a92acd05ff1681b4ef4359c5a392a65f447b4e60"}},facebook:{client:{id:"872118066268652",secret:"c213112a3b8406cfd2ef4b95cca83620"},redirect:"http://192.168.1.13:4200/oauth2/facebook/token"},google:{client:{id:"797214521911-613ooails3rjr6di1ldlsh9ff9dofhjd.apps.googleusercontent.com",secret:"0tCjYTCgWdv5ZFZ7dMOk16zI"},redirect:"http://192.168.1.13:4200/oauth2/google/token"}}}},"Y9O/":function(e,t){},aKKr:function(e,t){},dW2o:function(e,t){},dlx8:function(e,t){},e0XP:function(e,t){},iz8C:function(e,t){},n9mN:function(e,t){},r15W:function(e,t,s){"use strict";var n=s("E9Zr").a,o=s("VU/8")(n,null,!1,function(e){s("dW2o")},null,null);t.a=o.exports},rwyn:function(e,t){},uslO:function(e,t,s){function n(e){return s(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="uslO"},wMCu:function(e,t){},xBwK:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.270d4326d6957490b38b.js.map